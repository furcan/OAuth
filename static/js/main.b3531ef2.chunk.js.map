{"version":3,"sources":["infrastructure/oauth/google/OAuthServiceGoogle.ts","infrastructure/oauth/OAuthServices.ts","application/constants/index.ts","application/api/Authentication.ts","presentation/pages/home/Home.tsx","index.tsx"],"names":["googleOAuth2Instance","oAuthServiceGoogleInitAndLoadAndGetInstance","clientId","uxMode","redirectUrl","Promise","resolve","reject","scriptId","window","document","getElementById","script","scriptRange","createRange","selectNode","head","scriptFragment","createContextualFragment","appendChild","getScript","onload","gapi","load","auth2","init","client_id","cookie_policy","fetch_basic_profile","scope","ux_mode","redirect_uri","getAuthInstance","oAuthServiceGoogleIsSignedIn","isSignedIn","get","googleReturnData","authResponse","currentUser","getAuthResponse","basicProfile","getBasicProfile","id","getId","name","getName","given_name","getGivenName","family_name","getFamilyName","image_url","getImageUrl","email","getEmail","oAuthServiceGoogleSignInAsync","a","signIn","Error","oAuthServiceGoogleSignOutAsync","signOut","undefined","OAuthService","Google","signInAsync","signOutAsync","constants","Auth","signInWithGoogleAsync","oAuthInitGoogle","process","googleResponse","Object","localStorage","setItem","setTimeout","then","dummy","Home","signInInit","useMemo","isLoading","isError","isSuccess","useState","signInState","setSignInState","userInit","isAuthenticated","avatar","userState","setUserState","useEffect","userName","getItem","userAvatar","length","signInHandlerGoogleAsync","signOutHandlerAsync","dummyErrorHandler","title","description","className","src","width","height","alt","type","onClick","stroke","fill","strokeWidth","viewBox","xmlns","fillRule","clipRule","d","disabled","Date","getFullYear","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b3531ef2.chunk.js","sourcesContent":["// IOAuthServiceGoogle Interfaces: begin\ninterface IGoogleAuthResponse {\n  access_token: string;\n  expires_at: number;\n  expires_in: number;\n  first_issued_at: number;\n  id_token: string;\n  idpId: string;\n  login_hint: string;\n  scope: string;\n  token_type: string;\n  session_state: {\n    extraQueryParams: {\n      authuser: string;\n    };\n  };\n}\n\ninterface IGoogleGetBasicProfile {\n  getId: () => string;\n  getName: () => string;\n  getGivenName: () => string;\n  getFamilyName: () => string;\n  getImageUrl: () => string;\n  getEmail: () => string;\n}\n\ninterface IGoogleBasicProfile {\n  id: string;\n  name: string;\n  given_name: string;\n  family_name: string;\n  image_url: string;\n  email: string;\n}\n\ntype TGoogleLoadCallback = (...args: []) => void;\n\ntype TGoogleLoadConfig = {\n  callback: TGoogleLoadCallback,\n  onerror?: () => void,\n  timeout?: number,\n  ontimeout?: () => void,\n};\n\ntype TGoogleLoad = (apiName: string, callback: TGoogleLoadConfig | TGoogleLoadCallback) => void;\n\ninterface IGoogleInit {\n  client_id: string;\n  cookie_policy: string;\n  fetch_basic_profile: boolean;\n  scope: string;\n  ux_mode?: string;\n  redirect_uri?: string;\n  response_type?: string;\n}\n\ntype TGoogleInit = ({ }: IGoogleInit) => void;\n\ntype TGoogleAuth2 = {\n  init: TGoogleInit;\n  getAuthInstance: () => IGoogleOAuth2Instance;\n};\n\ninterface IGoogleCurrentUserGet {\n  getAuthResponse: () => IGoogleAuthResponse;\n  getBasicProfile: () => IGoogleGetBasicProfile;\n}\n\ninterface IGoogleCurrentUser {\n  get: () => IGoogleCurrentUserGet;\n}\n\ninterface IGoogleIsSignedIn {\n  get: () => boolean;\n}\n\ninterface IGoogleOAuth2Instance {\n  currentUser: IGoogleCurrentUser;\n  isSignedIn: IGoogleIsSignedIn;\n  signIn: () => Promise<void>;\n  signOut: () => Promise<undefined>;\n}\n\ninterface IGoogleGapi {\n  load: TGoogleLoad;\n  auth2: TGoogleAuth2;\n}\n\ndeclare global {\n  interface Window { gapi: IGoogleGapi; }\n}\n// IOAuthServiceGoogle Interfaces: end\n\n\n// IOAuthServiceGoogle: begin\nlet googleOAuth2Instance: IGoogleOAuth2Instance | null = null;\n\ninterface IOAuthServiceGoogleInit {\n  clientId: string;\n  uxMode?: 'popup' | 'redirect';\n  redirectUrl?: string;\n}\nconst oAuthServiceGoogleInitAndLoadAndGetInstance = ({ clientId, uxMode, redirectUrl }: IOAuthServiceGoogleInit): Promise<boolean> => new Promise((resolve, reject) => {\n  const scriptId = 'OAuthGoogleScriptElement';\n  if (!window.document.getElementById(scriptId)) {\n    // create script range and append to the doc head\n    const script = `<script id=\"${scriptId}\" src=\"https://apis.google.com/js/api:client.js\"></script>`;\n    const scriptRange = window.document.createRange();\n    scriptRange.selectNode(window.document.head);\n    const scriptFragment = scriptRange.createContextualFragment(script);\n    window.document.head.appendChild(scriptFragment);\n\n    // get script\n    const getScript = window.document.getElementById(scriptId);\n\n    // check script\n    if (getScript) {\n      // listen script onload\n      getScript.onload = () => {\n        // load gapi\n        window.gapi.load('auth2', () => {\n          // init gapi\n          window.gapi.auth2.init({\n            client_id: clientId,\n            cookie_policy: 'single_host_origin',\n            fetch_basic_profile: true,\n            scope: 'profile email',\n            ux_mode: uxMode || 'popup',\n            redirect_uri: redirectUrl,\n          });\n\n          // set gapi instance\n          googleOAuth2Instance = window.gapi.auth2.getAuthInstance();\n\n          // resolve\n          resolve(true);\n        });\n      };\n    } else {\n      reject(false);\n    }\n  } else if (googleOAuth2Instance) {\n    resolve(true);\n  } else {\n    reject(false);\n  }\n});\n\ntype TOAuthServiceGoogleIsSignedIn = boolean;\nexport const oAuthServiceGoogleIsSignedIn = (): TOAuthServiceGoogleIsSignedIn => {\n  return googleOAuth2Instance !== null && googleOAuth2Instance.isSignedIn.get();\n};\n\ntype TOAuthServiceGoogleSignIn = {\n  authResponse: IGoogleAuthResponse;\n  basicProfile: IGoogleBasicProfile;\n} | null;\nconst googleReturnData = (): TOAuthServiceGoogleSignIn => {\n  if (googleOAuth2Instance) {\n    const authResponse: IGoogleAuthResponse = googleOAuth2Instance.currentUser.get().getAuthResponse();\n    const basicProfile: IGoogleGetBasicProfile = googleOAuth2Instance.currentUser.get().getBasicProfile();\n    return {\n      authResponse,\n      basicProfile: {\n        id: basicProfile.getId(),\n        name: basicProfile.getName(),\n        given_name: basicProfile.getGivenName(),\n        family_name: basicProfile.getFamilyName(),\n        image_url: basicProfile.getImageUrl(),\n        email: basicProfile.getEmail(),\n      },\n    };\n  }\n  return null;\n};\n\nexport const oAuthServiceGoogleSignInAsync = async ({ clientId, uxMode, redirectUrl }: IOAuthServiceGoogleInit): Promise<TOAuthServiceGoogleSignIn> => {\n  if (!oAuthServiceGoogleIsSignedIn()) {\n    try {\n      const go = await oAuthServiceGoogleInitAndLoadAndGetInstance({ clientId, uxMode, redirectUrl });\n      if (go && googleOAuth2Instance) {\n        await googleOAuth2Instance.signIn();\n        return googleReturnData();\n      } else {\n        throw Error();\n      }\n    } catch {\n      return null;\n    }\n  } else if (googleOAuth2Instance) {\n    return googleReturnData();\n  }\n  return null;\n};\n\ntype TOAuthServiceGoogleSignOut = boolean;\nexport const oAuthServiceGoogleSignOutAsync = async (): Promise<TOAuthServiceGoogleSignOut> => {\n  if (oAuthServiceGoogleIsSignedIn() && googleOAuth2Instance) {\n    try {\n      const signOut = await googleOAuth2Instance.signOut();\n      if (signOut === undefined) {\n        return true;\n      } else {\n        throw Error();\n      }\n    } catch {\n      return false;\n    }\n  }\n  return true;\n};\n// IOAuthServiceGoogle: end\n\n// IOAuthServiceGoogle Types: begin\nexport type {\n  IOAuthServiceGoogleInit,\n  TOAuthServiceGoogleIsSignedIn,\n  TOAuthServiceGoogleSignIn,\n  TOAuthServiceGoogleSignOut,\n};\n// IOAuthServiceGoogle Types: end\n","import {\n  oAuthServiceGoogleIsSignedIn,\n  oAuthServiceGoogleSignInAsync,\n  oAuthServiceGoogleSignOutAsync,\n  IOAuthServiceGoogleInit,\n} from 'infrastructure/oauth/google/OAuthServiceGoogle';\n\nexport class OAuthService {\n  static Google = class {\n    isSignedIn = oAuthServiceGoogleIsSignedIn;\n    signInAsync = oAuthServiceGoogleSignInAsync;\n    signOutAsync = oAuthServiceGoogleSignOutAsync;\n  };\n}\n\nexport type {\n  IOAuthServiceGoogleInit,\n};\n","interface IConstants {\n  apiUrl: string;\n  apiUrlPathAuth: string;\n  oAuthGoogleClientId: string;\n  oAuthGoogleUxMode: 'popup' | 'redirect';\n  oAuthGoogleRedirectUrl: string;\n}\n\nexport const constants: IConstants = {\n  apiUrl: 'https://api.furcan.net/',\n  apiUrlPathAuth: 'authentication',\n  oAuthGoogleClientId: '998329239587-roe4rd0tdif2j6ia7r1qjgugf4mut1vg.apps.googleusercontent.com',\n  oAuthGoogleUxMode: 'popup',\n  oAuthGoogleRedirectUrl: process.env.PUBLIC_URL,\n};\n","import { OAuthService, IOAuthServiceGoogleInit } from 'infrastructure/oauth/OAuthServices';\n\n// import { IApiResponse } from 'application/api';\nimport { constants } from 'application/constants';\n\nexport class Auth {\n  signInWithGoogleAsync = async (): Promise<boolean> => {\n    try {\n      await new OAuthService.Google().signOutAsync();\n\n      const oAuthInitGoogle: IOAuthServiceGoogleInit = {\n        clientId: constants.oAuthGoogleClientId,\n        uxMode: constants.oAuthGoogleUxMode,\n        redirectUrl: process.env.PUBLIC_URL,\n      };\n\n      const googleResponse = await new OAuthService.Google().signInAsync(oAuthInitGoogle);\n\n      if (googleResponse instanceof Object) {\n\n        /*\n        * Send the data to the API\n        *\n        const idToken = googleResponse.authResponse.id_token; // etc...\n        const apiRequestBody = { idToken: idToken };\n        const apiResponse = await window.fetch((constants.apiUrl + constants.apiUrlPathAuth), {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(apiRequestBody),\n        });\n        const apiResponseData: IApiResponse | boolean = apiResponse.ok ? await apiResponse.json() : false;\n        if (apiResponseData instanceof Object && apiResponseData.success) {\n          // functions, etc...\n          console.log(apiResponseData.innerData);\n          return true;\n        } else {\n          throw Error();\n        }\n        */\n\n        // Dummy: Begin\n        window.localStorage.setItem('dummy_user_name', googleResponse.basicProfile.name);\n        window.localStorage.setItem('dummy_user_avatar', googleResponse.basicProfile.image_url);\n        return true;\n        // Dummy: End\n\n      } else {\n        throw Error();\n      }\n    } catch {\n      return false;\n    }\n  };\n\n  signOutAsync = async (): Promise<boolean> => {\n    try {\n      await new OAuthService.Google().signOutAsync();\n\n      const dummy = await new Promise((resolve) => setTimeout(() => resolve(true), 500)).then(() => {\n        window.localStorage.setItem('dummy_user_name', '');\n        window.localStorage.setItem('dummy_user_avatar', '');\n        return true;\n      });\n      return dummy;\n\n    } catch {\n      return false;\n    }\n  };\n}\n","import React, { useEffect, useMemo, useState } from 'react';\n\nimport { Auth } from 'application/api';\n\nimport 'presentation/pages/home/Home.scss';\n\ninterface IHomeState {\n  isLoading: boolean;\n  isError: boolean;\n  isSuccess: boolean;\n}\ninterface IHomeUser {\n  isAuthenticated: boolean,\n  name: string;\n  avatar: string;\n}\n\nfunction Home(): React.ReactElement {\n  // State: begin\n  const signInInit: IHomeState = useMemo(() => ({\n    isLoading: false,\n    isError: false,\n    isSuccess: false,\n  }), []);\n  const [signInState, setSignInState] = useState<IHomeState>(signInInit);\n\n  const userInit: IHomeUser = useMemo(() => ({\n    isAuthenticated: false,\n    name: '',\n    avatar: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4AQMAAAADqqSRAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAANQTFRF29vbVWvwgwAAABdJREFUeJxjYBgFo2AUjIJRMApGAb0BAAeAAAE5TYQiAAAAAElFTkSuQmCC',\n  }), []);\n  const [userState, setUserState] = useState<IHomeUser>(userInit);\n\n  useEffect(() => {\n    if (signInState.isSuccess) {\n      // refresh the context, or the main state, or etc...\n\n      // Dummy: begin\n      const userName = window.localStorage.getItem('dummy_user_name') || '';\n      const userAvatar = window.localStorage.getItem('dummy_user_avatar') || '';\n      setUserState({\n        isAuthenticated: userName.length > 0 && userAvatar.length > 0,\n        name: userName,\n        avatar: userAvatar || userInit.avatar,\n      });\n      // Dummy: end\n    }\n  }, [signInState, setUserState, userInit]);\n  // State: end\n\n  // Google OAuth Handler: begin\n  const signInHandlerGoogleAsync = async () => {\n    try {\n      setSignInState({\n        isLoading: true,\n        isError: false,\n        isSuccess: false,\n      });\n\n      const apiResponse = await new Auth().signInWithGoogleAsync();\n      if (apiResponse) {\n        setSignInState({\n          isLoading: false,\n          isError: false,\n          isSuccess: true,\n        });\n      } else {\n        throw Error();\n      }\n    } catch {\n      setSignInState({\n        isLoading: false,\n        isError: true,\n        isSuccess: false,\n      });\n    }\n  };\n  // Google OAuth Handler: end\n\n  // SignOut Handler: begin\n  const signOutHandlerAsync = async () => {\n    try {\n      setSignInState({\n        isLoading: true,\n        isError: false,\n        isSuccess: false,\n      });\n\n      const apiResponse = await new Auth().signOutAsync();\n      if (apiResponse) {\n        setSignInState({\n          isLoading: false,\n          isError: false,\n          isSuccess: true,\n        });\n      } else {\n        throw Error();\n      }\n    } catch {\n      setSignInState({\n        isLoading: false,\n        isError: true,\n        isSuccess: false,\n      });\n    }\n  };\n  // SignOut Handler: end\n\n  // Dummy Error Handler: begin\n  const dummyErrorHandler = () => {\n    setSignInState({\n      ...signInState,\n      isError: true,\n    });\n  };\n  // Dummy Error Handler: end\n\n  const title = userState.isAuthenticated ? userState.name : (signInState.isError ? 'Upss...' : 'Sign In');\n  const description = userState.isAuthenticated ? 'Welcome.' : (signInState.isError ? 'Something went wrong.... Please try again.' : (signInState.isLoading ? 'Please wait...' : 'You can sign in using one of the services below.'));\n\n  return (\n    <div className={`home`}>\n      <div className={`container`}>\n        <div className={`home__content`}>\n          <div className={`home__signin`}>\n            <div className={`home__signin__banner ${userState.isAuthenticated ? 'state--authenticated' : ''}`}>\n              <img className={`home__signin__banner__img`} src={`${process.env.PUBLIC_URL}/content/images/signin.png`} width=\"640\" height=\"420\" alt=\"OAuth\" />\n              <img className={`home__signin__banner__avatar`} width=\"100\" height=\"100\" alt={userState.name} src={userState.avatar} />\n            </div>\n\n            <h1 className={`home__signin__title`}>{title}</h1>\n            <p className={`home__signin__description`}>{description}</p>\n\n            <div className={`home__signin__content ${signInState.isLoading ? 'state--loading' : ''}`}>\n              <div className={`home__signin__content__loading`}>\n                <p className={`home__signin__content__loading__message`}>Please wait...</p>\n              </div>\n\n              {userState.isAuthenticated ?\n                <button className={`home__signin__content__button button--google`} type=\"button\" onClick={signOutHandlerAsync}>\n                  <svg stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 16 16\" className={`home__signin__content__button__icon icon--signout`} height=\"20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M11.02 3.77v1.56l1-.99V2.5l-.5-.5h-9l-.5.5v.486L2 3v10.29l.36.46 5 1.72L8 15v-1h3.52l.5-.5v-1.81l-1-1V13H8V4.71l-.33-.46L4.036 3h6.984v.77zM7 14.28l-4-1.34V3.72l4 1.34v9.22zm6.52-5.8H8.55v-1h4.93l-1.6-1.6.71-.7 2.47 2.46v.71l-2.49 2.48-.7-.7 1.65-1.65z\"></path></svg>\n                  <span>Sign Out</span>\n                </button>\n                :\n                <>\n                  <button className={`home__signin__content__button button--google`} type=\"button\" onClick={signInHandlerGoogleAsync}>\n                    <svg className={`home__signin__content__button__icon icon--google`} width=\"22\" height=\"22\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><g><path fill=\"#FBBB00\" d=\"M113.47,309.408L95.648,375.94l-65.139,1.378C11.042,341.211,0,299.9,0,256\tc0-42.451,10.324-82.483,28.624-117.732h0.014l57.992,10.632l25.404,57.644c-5.317,15.501-8.215,32.141-8.215,49.456 C103.821,274.792,107.225,292.797,113.47,309.408z\"></path><path fill=\"#518EF8\" d=\"M507.527,208.176C510.467,223.662,512,239.655,512,256c0,18.328-1.927,36.206-5.598,53.451\tc-12.462,58.683-45.025,109.925-90.134,146.187l-0.014-0.014l-73.044-3.727l-10.338-64.535\tc29.932-17.554,53.324-45.025,65.646-77.911h-136.89V208.176h138.887L507.527,208.176L507.527,208.176z\"></path><path fill=\"#28B446\" d=\"M416.253,455.624l0.014,0.014C372.396,490.901,316.666,512,256,512\tc-97.491,0-182.252-54.491-225.491-134.681l82.961-67.91c21.619,57.698,77.278,98.771,142.53,98.771 c28.047,0,54.323-7.582,76.87-20.818L416.253,455.624z\"></path><path fill=\"#F14336\" d=\"M419.404,58.936l-82.933,67.896c-23.335-14.586-50.919-23.012-80.471-23.012 c-66.729,0-123.429,42.957-143.965,102.724l-83.397-68.276h-0.014C71.23,56.123,157.06,0,256,0 C318.115,0,375.068,22.126,419.404,58.936z\"></path></g></svg>\n                    <span>Sign in with Google</span>\n                  </button>\n\n                  <button className={`home__signin__content__button button--facebook`} type=\"button\" onClick={dummyErrorHandler}>\n                    <svg className={`home__signin__content__button__icon icon--facebook`} fill=\"#4267B2\" width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><g><path d=\"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z\"></path></g></svg>\n                    <span>Sign in with Facebook</span>\n                  </button>\n\n                  <button className={`home__signin__content__button button--apple`} type=\"button\" onClick={dummyErrorHandler} disabled>\n                    <svg className={`home__signin__content__button__icon icon--apple`} fill=\"#000000\" width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><g><path d=\"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z\"></path></g></svg>\n                    <span>Sign in with Apple</span>\n                  </button>\n                </>\n              }\n            </div>\n\n            <div className={`home__signin__footer`}>\n              <p className={`home__signin__footer__text`}>{`Copyright ${new Date().getFullYear()} OAuth. All rights reserved.`}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Home from 'presentation/pages/home/Home';\n\nimport 'presentation/styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Home />\n  </React.StrictMode>,\n  document.getElementById('OAuth'),\n);\n"],"sourceRoot":""}